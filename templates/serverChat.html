{% extends "base.html" %}
{% load static %}

{% block head %}
{% block title %}<title>Chat - Tunisian Top Gs</title>{% endblock title %}
<link rel="stylesheet" href="{% static "styles/serverChat.css" %}">
{% endblock head %}

{% block header %}
    {% include "components/navbar.html" %}
{% endblock header %}

{% block main %}
    <div class="chat-wrapper">

        <div class="mobile-toggles-btn">
            <button class="toggle-chat-room-mobile" onclick="toggleRoomsMobile()">
                <i data-lucide="align-left"></i>
            </button>
            <button class="toggle-chat-members-mobile" onclick="toggleMembersMobile()">
                <i data-lucide="users"></i>
            </button>
        </div>

        <div class="chat-rooms">
            <div class="chat-rooms-header">
                <span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path
                            d="M17.814 21.236L17.544 21.694C17.4875 21.7876 17.4077 21.865 17.3125 21.9187C17.2173 21.9724 17.1098 22.0006 17.0005 22.0006C16.8912 22.0006 16.7837 21.9724 16.6885 21.9187C16.5933 21.865 16.5135 21.7876 16.457 21.694L16.186 21.236C15.976 20.881 15.87 20.703 15.701 20.605C15.533 20.507 15.32 20.503 14.895 20.495C14.267 20.485 13.873 20.446 13.543 20.31C13.2397 20.1844 12.9641 20.0002 12.7319 19.7681C12.4998 19.5359 12.3156 19.2603 12.19 18.957C12 18.497 12 17.915 12 16.75V16.25C12 14.613 12 13.795 12.368 13.194C12.5742 12.8573 12.8573 12.5742 13.194 12.368C13.794 12 14.614 12 16.25 12H17.75C19.387 12 20.205 12 20.806 12.368C21.1427 12.5742 21.4258 12.8573 21.632 13.194C22 13.794 22 14.614 22 16.25V16.75C22 17.915 22 18.497 21.81 18.957C21.6844 19.2603 21.5002 19.5359 21.2681 19.7681C21.0359 20.0002 20.7603 20.1844 20.457 20.31C20.127 20.446 19.733 20.485 19.105 20.496C18.68 20.503 18.467 20.506 18.299 20.605C18.129 20.703 18.025 20.882 17.814 21.236Z"
                            fill="#F5F5F5" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M10.2 2.277C10.2951 2.30324 10.384 2.34798 10.4618 2.40864C10.5395 2.4693 10.6046 2.5447 10.6531 2.63053C10.7017 2.71636 10.7329 2.81092 10.7449 2.90881C10.7569 3.0067 10.7494 3.10599 10.723 3.201L9.32 8.25H16.763L18.277 2.8C18.3033 2.70506 18.348 2.61621 18.4086 2.53855C18.4692 2.46088 18.5445 2.39591 18.6302 2.34734C18.7159 2.29878 18.8103 2.26757 18.9081 2.2555C19.0059 2.24343 19.1051 2.25074 19.2 2.277C19.2949 2.30327 19.3838 2.34798 19.4615 2.40857C19.5391 2.46917 19.6041 2.54448 19.6527 2.63019C19.7012 2.71589 19.7324 2.81033 19.7445 2.9081C19.7566 3.00587 19.7493 3.10506 19.723 3.2L18.32 8.25H22C22.1989 8.25 22.3897 8.32902 22.5303 8.46967C22.671 8.61033 22.75 8.80109 22.75 9C22.75 9.19892 22.671 9.38968 22.5303 9.53033C22.3897 9.67098 22.1989 9.75 22 9.75H17.902C17.8505 9.8965 17.7547 10.0234 17.628 10.1131C17.5013 10.2029 17.3498 10.2511 17.1945 10.2511C17.0392 10.2511 16.8877 10.2029 16.761 10.1131C16.6343 10.0234 16.5385 9.8965 16.487 9.75H8.903L7.376 15.25H9C9.19891 15.25 9.38968 15.329 9.53033 15.4697C9.67098 15.6103 9.75 15.8011 9.75 16C9.75 16.1989 9.67098 16.3897 9.53033 16.5303C9.38968 16.671 9.19891 16.75 9 16.75H6.959L5.723 21.2C5.66996 21.3918 5.54291 21.5546 5.36982 21.6527C5.19672 21.7507 4.99175 21.776 4.8 21.723C4.60825 21.67 4.44542 21.5429 4.34734 21.3698C4.24926 21.1967 4.22396 20.9918 4.277 20.8L5.402 16.75H2C1.80109 16.75 1.61032 16.671 1.46967 16.5303C1.32902 16.3897 1.25 16.1989 1.25 16C1.25 15.8011 1.32902 15.6103 1.46967 15.4697C1.61032 15.329 1.80109 15.25 2 15.25H5.819L7.347 9.75H4C3.80109 9.75 3.61032 9.67098 3.46967 9.53033C3.32902 9.38968 3.25 9.19892 3.25 9C3.25 8.80109 3.32902 8.61033 3.46967 8.46967C3.61032 8.32902 3.80109 8.25 4 8.25H7.763L9.277 2.8C9.30324 2.70494 9.34797 2.61598 9.40864 2.53822C9.4693 2.46047 9.5447 2.39544 9.63053 2.34686C9.71635 2.29828 9.81092 2.2671 9.90881 2.25512C10.0067 2.24313 10.106 2.25057 10.201 2.277"
                            fill="#F5F5F5" />
                    </svg>
                    TTG Rooms
                    <i data-lucide="x" class="close-rooms"></i>
                </span>
                <div class="to-courses">
                    <span>

                        <svg xmlns="http://www.w3.org/2000/svg" width="33" height="32" viewBox="0 0 33 32" fill="none">
                            <path
                                d="M4.1 22.5C3.1 20.5 2.5 18.3 2.5 16C2.5 8.3 8.8 2 16.5 2V4C9.9 4 4.5 9.4 4.5 16C4.5 18 5 19.8 5.9 21.5L4.1 22.5ZM28.5 16C28.5 22.6 23.1 28 16.5 28C13.6 28 10.9 27 8.8 25.2L14.5 19.5L13.1 18L6.6 24.5C6.2 24.9 6.2 25.5 6.6 25.9C9.2 28.5 12.8 30 16.5 30C24.2 30 30.5 23.7 30.5 16H28.5Z"
                                fill="#F5F5F5" />
                            <path
                                d="M18.5003 25C18.4003 25 18.2003 25 18.1003 24.9C17.8003 24.8 17.5003 24.5 17.5003 24.1L16.8003 19.1L18.8003 18.8L19.2003 22.1L21.4003 20.4V15C21.4003 14.7 21.5003 14.5 21.7003 14.3L24.9003 11.1C25.8003 10.2 26.4003 8.9 26.4003 7.6V6H24.9003C23.6003 6 22.3003 6.5 21.4003 7.5L18.2003 10.7C18.0003 10.9 17.8003 11 17.5003 11H12.0003L10.3003 13.2L13.6003 13.6L13.3003 15.6L8.30026 14.9C7.90026 14.9 7.60026 14.6 7.50026 14.3C7.40026 14 7.40026 13.6 7.60026 13.3L10.6003 9.3C10.9003 9.1 11.2003 9 11.5003 9H17.1003L20.1003 6C21.4003 4.7 23.2003 4 25.0003 4H26.5003C27.6003 4 28.5003 4.9 28.5003 6V7.5C28.5003 9.4 27.8003 11.1 26.5003 12.4L23.5003 15.4V21C23.5003 21.3 23.4003 21.6 23.1003 21.8L19.1003 24.8C18.9003 24.9 18.7003 25 18.5003 25Z"
                                fill="#F5F5F5" />
                        </svg>
                        courses
                    </span>
                </div>
            </div>
            <div class="text-channels">
                <div class="text-group">
                    <div class="text-channels-header">
                        <div>
                            <button class="toggle-button">
                                <i data-lucide="chevron-up" class="arrow"></i>
                            </button>
                            👔・𝗦𝗧𝗨𝗗𝗘𝗡𝗧 𝗦𝗘𝗖𝗧𝗜𝗢𝗡
                        </div>
                        <button class="add-channel">
                            <i data-lucide="plus"></i>
                        </button>
                    </div>
                    <ul class="channels-list">
                        <li class="channel-link">
                            <i data-lucide="hash"></i> 💭・𝗦𝘁𝘂𝗱𝗲𝗻𝘁-𝗖𝗵𝗮𝘁

                        </li>
                        <li class="channel-link">
                            <i data-lucide="hash"></i> 🏆・𝗖𝗿𝘆𝗽𝘁𝗼-𝘄𝗶𝗻𝘀
                        </li>
                        <li class="channel-link">
                            <i data-lucide="hash"></i> 📢・𝗦𝘁𝘂𝗱𝗲𝗻𝘁𝘀-𝗔𝗻𝗻𝗼𝘂𝗻𝗰𝗲𝗺𝗲𝗻𝘁𝘀
                        </li>
                    </ul>
                </div>
                <div class="text-group">
                    <div class="text-channels-header">
                        <div>
                            <button class="toggle-button">
                                <i data-lucide="chevron-up" class="arrow"></i>
                            </button>
                            🌌・Signals
                        </div>
                        <button class="add-channel">
                            <i data-lucide="plus"></i>
                        </button>
                    </div>
                    <ul class="channels-list">
                        <li class="channel-link active"><i data-lucide="hash"></i> 🌌・Forex Signals</li>
                        <li class="channel-link"><i data-lucide="hash"></i> 🌌・Crypto Signals</li>
                        <li class="channel-link"><i data-lucide="hash"></i> 📕・Get your Badges</li>
                    </ul>
                </div>
            </div>
            <div class="rooms-footer">
                <div class="change-status hidden">
                    <div class="status online">
                        <span class="status-online"></span>
                        <span class="status-text">Online</span>
                    </div>
                    <div class="status away">
                        <span class="status-away"></span>
                        <span class="status-text">Away</span>
                    </div>
                    <div class="status busy">
                        <span class="status-busy"></span>
                        <span class="status-text">Busy</span>
                    </div>
                </div>
                <div class="user-profile">
                    <div class="user-container">
                        <div class="user-pic">
                            <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                            <span class="user-status"></span>
                        </div>
                        <div class="user-info">
                            <span class="user-name">John Doe</span>
                            <span class="user-status-text">Available</span>
                        </div>
                    </div>
                    <button class="change-status-btn">
                        <i data-lucide="chevron-up"></i>
                    </button>
                </div>
            </div>


        </div>
        <div class="chat-container">
            <div class="chat-header">
                <div class="chat-title">
                    <span class="chat-title-channel-group">
                        <i data-lucide="hash"></i>
                        Text Channel
                    </span>
                    <span class="chat-title-room">
                        <i data-lucide="chevron-right"></i>
                        General
                    </span>
                </div>
            </div>
            <div class="chat-box" id="chatBox">
                <div class="chat-message">
                    <div class="message-header">
                        <div class="user-pic">
                            <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                        </div>
                    </div>
                    <div class="message-content">
                        <div class="user-info">
                            <span class="user-name">Figgy</span>
                            <span class="message-date">Today</span>
                            <span class="message-time">2:30 PM</span>
                        </div>
                        <div class="message-text">
                            If you have any questions don't hesitate to reach out to a @deleted-role. They can be
                            reached at any time, Fusce porta elementum ligula hendrerit auctor. Suspendisse est ex,
                            egestas in pulvinar ut, facilisis quis velit. Vestibulum ullamcorper libero nulla, et
                            posuere odio eleifend eu. Ut feugiat lorem ac purus venenatis elementum. Mauris vestibulum
                            nibh ac turpis luctus venenatis non ut elit. Nulla venenatis, nulla quis ornare mollis, erat
                            ipsum ullamcorper ligula, sit amet blandit ipsum nisi elementum turpis. In vel blandit
                            ipsum.x
                        </div>
                        <div class="reactions-box">
                            <div class="react">
                                <div class="emoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><defs><style>.e{fill:#009345}</style></defs><rect x="1" y="1" width="22" height="22" rx="7.656" style="fill:#f8de40"/><path d="M23 13.938a14.69 14.69 0 0 1-12.406 6.531c-5.542 0-6.563-1-9.142-2.529A7.66 7.66 0 0 0 8.656 23h6.688A7.656 7.656 0 0 0 23 15.344z" style="fill:#e7c930"/><path d="M16.666 12.583H7.334a.493.493 0 0 0-.492.544c.123 1.175.875 3.842 5.158 3.842s5.035-2.667 5.158-3.842a.493.493 0 0 0-.492-.544z" style="fill:#864e20"/><path d="M12 16.969a6.538 6.538 0 0 0 2.959-.6 1.979 1.979 0 0 0-1.209-.853c-1.344-.3-1.75.109-1.75.109s-.406-.406-1.75-.109a1.979 1.979 0 0 0-1.209.853 6.538 6.538 0 0 0 2.959.6z" style="fill:#f06880"/><path class="e" d="M8.82 8.767a1.18 1.18 0 0 0-.378-.414 1.946 1.946 0 0 0-.536-.253 4.37 4.37 0 0 0-.444-.1.094.094 0 0 1-.079-.09V6.692a.1.1 0 0 1 .036-.074.081.081 0 0 1 .069-.018.882.882 0 0 1 .375.173.579.579 0 0 1 .189.385.344.344 0 0 0 .337.3H8.5a.342.342 0 0 0 .256-.116.336.336 0 0 0 .084-.262 1.536 1.536 0 0 0-.1-.407 1.22 1.22 0 0 0-.34-.465 1.457 1.457 0 0 0-.5-.273 2.3 2.3 0 0 0-.44-.092.09.09 0 0 1-.077-.089v-.246a.341.341 0 0 0-.682 0v.248a.094.094 0 0 1-.086.091 1.848 1.848 0 0 0-.975.381 1.251 1.251 0 0 0-.415 1.024 1.365 1.365 0 0 0 .146.624 1.185 1.185 0 0 0 .364.409 1.711 1.711 0 0 0 .506.238c.123.036.253.069.385.1a.091.091 0 0 1 .075.088v1.233a.092.092 0 0 1-.034.072.088.088 0 0 1-.073.019 1.089 1.089 0 0 1-.45-.189.575.575 0 0 1-.209-.39.339.339 0 0 0-.335-.293h-.118a.342.342 0 0 0-.34.383 1.254 1.254 0 0 0 .426.853 1.934 1.934 0 0 0 1.056.385.092.092 0 0 1 .077.093v.234a.341.341 0 0 0 .682 0v-.246a.094.094 0 0 1 .088-.091 2.069 2.069 0 0 0 1.02-.358 1.208 1.208 0 0 0 .467-1.03 1.29 1.29 0 0 0-.138-.619zm-.659.611a.663.663 0 0 1-.064.306.515.515 0 0 1-.175.2.941.941 0 0 1-.287.125c-.048.013-.1.023-.148.032a.084.084 0 0 1-.07-.019.1.1 0 0 1-.034-.072V8.855a.091.091 0 0 1 .034-.07.093.093 0 0 1 .059-.021h.02l.125.028a1.062 1.062 0 0 1 .295.116.512.512 0 0 1 .181.18.577.577 0 0 1 .064.29zM6.7 6.686v1.192a2.469 2.469 0 0 1-.192-.044.9.9 0 0 1-.259-.115.479.479 0 0 1-.162-.178.651.651 0 0 1-.058-.3.556.556 0 0 1 .2-.49 1.026 1.026 0 0 1 .363-.151h.02a.087.087 0 0 1 .053.019.1.1 0 0 1 .035.067zM18.723 8.767a1.18 1.18 0 0 0-.378-.414 1.946 1.946 0 0 0-.536-.249A4.37 4.37 0 0 0 17.365 8a.093.093 0 0 1-.078-.09V6.692a.093.093 0 0 1 .036-.074.078.078 0 0 1 .068-.017.892.892 0 0 1 .376.173.582.582 0 0 1 .188.385.345.345 0 0 0 .337.3h.108a.342.342 0 0 0 .256-.116.335.335 0 0 0 .084-.262 1.536 1.536 0 0 0-.1-.407 1.22 1.22 0 0 0-.332-.463 1.457 1.457 0 0 0-.5-.273 2.3 2.3 0 0 0-.44-.092.089.089 0 0 1-.076-.089v-.249a.342.342 0 0 0-.683 0v.248a.094.094 0 0 1-.086.091 1.848 1.848 0 0 0-.975.381 1.253 1.253 0 0 0-.415 1.024 1.368 1.368 0 0 0 .146.624 1.185 1.185 0 0 0 .364.409 1.711 1.711 0 0 0 .506.238c.123.036.253.069.385.1a.091.091 0 0 1 .075.088v1.233a.092.092 0 0 1-.034.072.088.088 0 0 1-.073.019 1.089 1.089 0 0 1-.45-.189.579.579 0 0 1-.209-.39.338.338 0 0 0-.336-.293h-.117a.342.342 0 0 0-.34.383 1.258 1.258 0 0 0 .426.853 1.934 1.934 0 0 0 1.056.385.092.092 0 0 1 .077.093v.234a.342.342 0 0 0 .683 0v-.246a.093.093 0 0 1 .087-.091 2.066 2.066 0 0 0 1.02-.358 1.208 1.208 0 0 0 .467-1.03 1.29 1.29 0 0 0-.143-.619zm-.659.611a.663.663 0 0 1-.064.306.515.515 0 0 1-.175.2.93.93 0 0 1-.287.125c-.048.012-.1.023-.147.032a.086.086 0 0 1-.071-.019.094.094 0 0 1-.033-.072V8.855a.091.091 0 0 1 .033-.07.093.093 0 0 1 .059-.021h.02l.125.028a1.05 1.05 0 0 1 .295.116.5.5 0 0 1 .181.182.566.566 0 0 1 .064.288zM16.6 6.686v1.192a2.469 2.469 0 0 1-.192-.044.89.89 0 0 1-.258-.115.463.463 0 0 1-.162-.178.637.637 0 0 1-.059-.3.559.559 0 0 1 .2-.49A1.026 1.026 0 0 1 16.5 6.6h.02a.087.087 0 0 1 .053.019.1.1 0 0 1 .027.067z"/></svg></div>
                                <div class="count">5</div>
                            </div>
                        </div>
                    </div>
                    <div class="reply-react">
                        <button class="reply" onclick="sendReplyMessage()">
                            <i data-lucide="reply"></i>
                        </button>
                        <div class="react">
                            <i data-lucide="smile"></i>
                        </div>
                    </div>
                </div>
                <div class="reply-message">
                    <div class="message-replied">
                        <svg xmlns="http://www.w3.org/2000/svg" width="46" height="16" viewBox="0 0 46 16" fill="none">
                            <path d="M1 15V15C1 7.26801 7.26801 1 15 1H45" stroke="#ADABAB" stroke-width="2"
                                stroke-linecap="round" />
                        </svg>
                        <div class="user-pic">
                            <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                        </div>
                        <div class="user-tag">
                            @Figgy
                        </div>
                        <span>
                            If you have any questions
                        </span>
                    </div>
                    <div class="chat-message">
                        <div class="message-header">
                            <div class="user-pic">
                                <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                            </div>
                        </div>
                        <div class="message-content">
                            <div class="user-info">
                                <span class="user-name">Figgy</span>
                                <span class="message-date">Today</span>
                                <span class="message-time">2:30 PM</span>
                            </div>
                            <span>
                                If you have any questions don't hesitate to reach out to a @deleted-role. They can be
                                reached at any time, Fusce porta elementum ligula hendrerit auctor. Suspendisse est ex,
                                egestas in pulvinar ut, facilisis quis velit. Vestibulum ullamcorper libero nulla, et
                                posuere odio eleifend eu. Ut feugiat lorem ac purus venenatis elementum. Mauris vestibulum
                                nibh ac turpis luctus venenatis non ut elit. Nulla venenatis, nulla quis ornare mollis, erat
                                ipsum ullamcorper ligula, sit amet blandit ipsum nisi elementum turpis. In vel blandit
                                ipsum.x
                            </span>
                        </div>
                        <div class="reply-react">
                            <button class="reply" onclick="replyToMessage()">
                                <i data-lucide="reply"></i>
                            </button>
                            <div class="react">
                                <i data-lucide="smile"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chat-footer-box">
                <div class="replying-to" style="display: none;">
                    <span>Replying to:</span>
                    <div class="message-replied"></div>
                    <button class="close" onclick="closeReplyMessage()">
                        <i data-lucide="x-circle"></i>
                    </button>
                </div>
                <div class="chat-input">
                    <i data-lucide="paperclip"></i>
                    <input type="text" id="userInput" placeholder="Type your message here...">
                    <div class="buttons-group">
                        <button class="emoji-button" onclick="toggleEmojiPicker()">
                            <i data-lucide="smile"></i>
                        </button>
                        <button class="send-message" onclick="send()">
                            <i data-lucide="send"></i>
                        </button>
                    </div>
                    <!-- Emoji Picker Modal -->
                    <div class="emoji-picker" id="emojiPicker">
                        <!-- Emoji results will go here -->
                    </div>
                </div>
            </div>
            
            
        </div>
        <div class="chat-members">
            <div class="chat-members-header">
                <i data-lucide="x" class="close-toggle"></i>
                <div>
                    <i data-lucide="users"></i>
                    MEMBERS
                </div>
                <span class="Members-counter">1,300 online members</span>
            </div>
            <div class="chat-members-body">
                <div class="SearchMember-input">
                    <input type="text" id="userInput" placeholder="Type your message here...">
                    <button class="send-message" onclick="send()">
                        <i data-lucide="send"></i>
                    </button>
                </div>
                <div class="memebers-list">
                    <div class="members-titel">
                        <img src="{% static "assets/caht.png" %}" alt="Members Badge">
                        <span>Member - <span class="counter">1</span></span>
                    </div>
                    <ul class="users-list">
                            <li class="user">
                                <div class="user-pic">
                                    <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                                    <span class="user-status"></span>
                                </div>                                
                                <span class="user-name">John Doe</span>
                            </li>
                            <li class="user">
                                <div class="user-pic">
                                    <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                                    <span class="user-status"></span>
                                </div>                                
                                <span class="user-name">John Doe</span>
                            </li>
                            <li class="user">
                                <div class="user-pic">
                                    <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                                    <span class="user-status"></span>
                                </div>                                
                                <span class="user-name">John Doe</span>
                            </li>
                            <li class="user">
                                <div class="user-pic">
                                    <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                                    <span class="user-status"></span>
                                </div>                                
                                <span class="user-name">John Doe</span>
                            </li>
                    </ul>
                    <div class="members-titel">
                        <img src="{% static "assets/caht.png" %}" alt="Members Badge">
                        <span>Member - <span class="counter">1</span></span>
                    </div>
                    <ul class="users-list">
                            <li class="user">
                                <div class="user-pic">
                                    <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                                    <span class="user-status"></span>
                                </div>                                
                                <span class="user-name">John Doe</span>
                            </li>
                            <li class="user">
                                <div class="user-pic">
                                    <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                                    <span class="user-status"></span>
                                </div>                                
                                <span class="user-name">John Doe</span>
                            </li>
                            <li class="user">
                                <div class="user-pic">
                                    <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                                    <span class="user-status"></span>
                                </div>                                
                                <span class="user-name">John Doe</span>
                            </li>
                            <li class="user">
                                <div class="user-pic">
                                    <img src="{% static "assets/userpic.svg" %}" alt="user-pic">
                                    <span class="user-status"></span>
                                </div>                                
                                <span class="user-name">John Doe</span>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
{% endblock main %}

{% block footer %}
{% endblock footer %}

{% block scripts %}
<script src="{% static 'js/serverChat.js' %}"></script>
{% endblock scripts %}
